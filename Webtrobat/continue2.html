<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title></title>
    <link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Extra Codiqa features -->
    <link rel="stylesheet" href="codiqa.ext.css">

    <!-- jQuery and jQuery Mobile -->
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.3.1.min.js"></script>

    <!-- Extra Codiqa features -->
    <script src="js/codiqa.ext.js"></script>
    <script src="js/all.js"></script>
    
        <script>
// create the blob object storing the data to compress
var blob = new Blob([ "Lorem ipsum dolor sit amet, consectetuer adipiscing elit..." ], {
  type : "text/plain"
});
// creates a zip storing the file "lorem.txt" with blob as data
// the zip will be stored into a Blob object (zippedBlob)
zipBlob("lorem.txt", blob, function(zippedBlob) {
  // unzip the first file from zipped data stored in zippedBlob
  unzipBlob(zippedBlob, function(reader) {
  alert("done");
    // logs the uncompressed Blob
    var files = reader.getFiles();
    for (var i = 0; i < files.length; i++)
    {
        var file = files[i];
        alert("unzipped " + file.getName() + " data: " + file.getData());
    }
//     alert("unzipped: " + unzippedBlob);
  });
});

function zipBlob(filename, blob, callback) {
  // use a zip.BlobWriter object to write zipped data into a Blob object
  zip.createWriter(new zip.BlobWriter("application/zip"), function(zipWriter) {
    // use a BlobReader object to read the data stored into blob variable
    zipWriter.add(filename, new zip.BlobReader(blob), function() {
      // close the writer and calls callback function
      zipWriter.close(callback);
    });
  }, onerror);
}

function unzipBlob(blob, callback) {
var reader = new ZipReader(blob, callback);
//   // use a zip.BlobReader object to read zipped data stored into blob variable
//   zip.createReader(new zip.BlobReader(blob), function(zipReader) {
//     // get entries from the zip file
//     zipReader.getEntries(function(entries) {
//       // get data from the first file
//       entries[0].getData(new zip.BlobWriter("text/plain"), function(data) {
//         // close the reader and calls callback function with uncompressed data as parameter
//         zipReader.close();
//         callback(data);
//       });
//     });
//   }, onerror);
}

function onerror(message) {
  console.error(message);
}
</script>


  </head>
  <body>
 <div data-role=page id=home>

  <div data-role=header>

    <h1>Home</h1>

  </div>

<input type="file" id="myButton"></input>
  <div id="list">

    <p> This is an accordion menu </p>

  </div>

</div>
  </body>
</html>



