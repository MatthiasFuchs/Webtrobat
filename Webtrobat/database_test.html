<!DOCTYPE html>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
</script>
<script src="js/all.js">
</script>
<script>

</script>
<script>

gotProjectId = function(projectId)
{
    console.log("Got project id " + projectId);
    var node = document.createElement("LI");
    var textnode = document.createTextNode(projectId);
    node.appendChild(textnode);
    document.getElementById("myList").appendChild(node);
}

gotAllProjects = function(projects)
{
    console.log("projects " + projects.length);
}


gotProject = function(project)
{
    console.log("project " + project.id);
}

//var url = "http://www.html5rocks.com/de/tutorials/file/dndfiles/";
var url = "https://pocketcode.org/download/854.catrobat";

function downloadCallback(content)
{
    alert(content);
}

function zipLoaded(zipReader)
{
    console.log("ho ho ho");
}

function doDownload()
{
    // Create XHR
    var xhr = new XMLHttpRequest(),
    blob;
    
    xhr.open("GET", url, true);
    // Set the responseType to blob
    xhr.responseType = "blob";
    
    xhr.addEventListener("load", function () {
        if (xhr.status === 200) {
            console.log("Image retrieved");
            // Blob as response
            blob = xhr.response;
            console.log("Blob:" + blob);
            
       //     var zipReader = new ZipReader(blob, zipLoaded);
            
        }
    }, false);
    // Send XHR
    xhr.send();

}
 
request.onsuccess = function(event)
{
    console.log("Success creating/accessing IndexedDB database");
    db = request.result;
    
    db.onerror = function(event)
    {
        console.log("Error creating/accessing IndexedDB database");
    };

    setRecentProjectId("Today is " + new Date());
    putProject({id: "sdf", name: "My Name", script: "a script"});
    //getRecentProjectId(gotProjectId);
    //getAllProjects(gotAllProjects);
    //getProject("sdf", gotProject);
    
    doDownload();
    //Utils.getRemoteContentBlob(url, downloadCallback);
}




</script>
</head>

<body>
<p>This is a paragraph.</p>
<p>This is another paragraph.</p>
<ol id="myList">
<li>List item 1</li>
<li>List item 2</li>
<li>List item 3</li>
</ol>
<button id="btn1">Append text</button>
<button id="btn2">Append list items</button>
</body>
</html>

