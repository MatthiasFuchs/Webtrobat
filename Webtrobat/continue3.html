<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title></title>
    <link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Extra Codiqa features -->
    <link rel="stylesheet" href="codiqa.ext.css">

    <!-- jQuery and jQuery Mobile -->
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.3.1.min.js"></script>

    <!-- Extra Codiqa features -->
    <script src="js/codiqa.ext.js"></script>
    <script src="js/all.js"></script>
    <script src="js/Utils.js"></script>
    
    <script>
    
    var xml_string = "loading ..."; 
    Utils.getRemoteContent("http://webtrobat.site90.com/projects/project3.xml", function(result, url) {
        xml_string = result;

        var programNode = new ProgramNode();
        var rootElem = Utils.getRootElement(xml_string);
        programNode.load(rootElem);
        
        var headerNode = programNode.getHeader();
        var projectName = headerNode.programName;
        var viewCreator = new ProgramViewCreator(programNode);
        var html_result = viewCreator.createView();
        $("#continue_current_project").html(projectName);
        $("div:jqmData(role=content)").html(html_result);
        $('div[data-role=collapsible]').collapsible({refresh:true});
        
    })

$(document).ready(function(){
    if (xml_string == "loading ...")
    {
        $("#continue_current_project").html(xml_string);
        $("div:jqmData(role=content)").html("<h1>loading ...</h1>");
        //$("div:jqmData(role=content)").append(html_result);
        //$('div[data-role=collapsible]').collapsible({refresh:true});
    }
});
</script>

  </head>
  <body>
    <!-- Home -->
    <div data-role="page" id="continue">
      <div data-theme="a" data-role="header">
        <a id="button_back" data-role="button" data-transition="flip" href="index.html" class="ui-btn-left"> Back </a>

        <h3 id="continue_current_project"></h3>
        <div data-theme="a" data-role="footer" data-position="fixed">
          <span class="ui-title"> </span>
        </div>
      </div>
          
<div data-role="content">
</div>
    </div>
  </body>
</html>


